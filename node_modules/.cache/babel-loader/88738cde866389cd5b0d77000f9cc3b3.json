{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emily\\\\OneDrive\\\\Documents\\\\Git\\\\SCU-ELSE\\\\src\\\\components\\\\AdminHome.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { Row, Col, Button, Tab, Tabs, Modal } from \"react-bootstrap\";\nimport AdminSurveyTable from \"./AdminSurveyTable.js\";\nimport AdminAddRowForm from \"./AdminAddRowForm.js\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../store/actions/auth\";\n\nclass AdminHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      let rows = [...this.state.rows];\n      rows.push({\n        readOnly: true,\n        prompt: this.state.prompt,\n        questionType: this.state.questionType ? this.state.questionType : \"RR\"\n      });\n      axios.post(\"http://127.0.0.1:8000/api/\", {\n        readOnly: true,\n        prompt: this.state.prompt,\n        questionType: this.state.questionType ? this.state.questionType : \"RR\"\n      }).then(res => console.log(res)); //.catch(error => console.err(error));\n\n      this.setState({\n        rows,\n        prompt: \"\",\n        questionType: \"\"\n      });\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleRemove = (event, id, dataID) => {\n      var rows = [...this.state.rows];\n      axios.delete(\"http://127.0.0.1:8000/api/\".concat(dataID, \"/\"));\n      rows.splice(id, 1);\n      this.setState({\n        rows: rows\n      });\n      this.forceUpdate();\n    };\n\n    this.handleEdit = (event, id) => {\n      var rows = [...this.state.rows];\n      rows[id].readOnly = false;\n      this.setState({\n        rows: rows\n      });\n    };\n\n    this.handleSave = (event, id, prompt, questionType, dataID) => {\n      var rows = [...this.state.rows];\n      rows[id].readOnly = true;\n      rows[id].prompt = prompt;\n      rows[id].questionType = questionType;\n      axios.put(\"http://127.0.0.1:8000/api/\".concat(dataID, \"/\"), {\n        readOnly: true,\n        prompt: prompt,\n        questionType: questionType\n      }).then(res => console.log(res)); //.catch(error => console.err(error));\n\n      this.setState({\n        rows\n      });\n    };\n\n    this.handleCancel = (event, id) => {\n      var rows = [...this.state.rows];\n      rows[id].readOnly = true;\n      this.setState({\n        rows: rows\n      });\n    };\n\n    this.modalClose = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.modalOpen = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.state = {\n      prompt: \"\",\n      questionType: \"\",\n      rows: [],\n      showModal: false,\n      startDate: \"\",\n      endDate: \"\"\n    };\n  }\n\n  componentDidMount() {\n    //axios.get(\"http://127.0.0.1:8000/api/\")\n    axios.get(\"scu-else-system.herokuapp.com/api/\").then(res => {\n      this.setState({\n        rows: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"PageContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/login\",\n      onClick: this.props.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Logout\")), React.createElement(\"h1\", {\n      className: \"PageHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Import Spreadsheet\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Select a file: \", React.createElement(\"input\", {\n      type: \"file\",\n      name: \"masterSpreadsheet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Survey Questions\"), React.createElement(AdminSurveyTable, {\n      rows: this.state.rows,\n      handleRemove: this.handleRemove,\n      handleEdit: this.handleEdit,\n      handleSave: this.handleSave,\n      handleCancel: this.handleCancel,\n      handleInputChange: this.handleInputChange,\n      readOnly: this.state.readOnly,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Add a Question\"), React.createElement(AdminAddRowForm, {\n      handleFormSubmit: this.handleFormSubmit,\n      handleInputChange: this.handleInputChange,\n      prompt: this.state.prompt,\n      questionType: this.state.questionType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Manage Survey\"), React.createElement(Tabs, {\n      defaultActiveKey: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"auto\",\n      title: \"Auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: spacing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Start Date:\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"startDate\",\n      defaultValue: this.state.startDate,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"End Date: \"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"endDate\",\n      defaultValue: this.state.endDate,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      style: group,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"red\",\n      onClick: this.modalOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Confirm\"))), React.createElement(Tab, {\n      eventKey: \"manual\",\n      title: \"Manual\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: group,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"red\",\n      onClick: this.modalOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Start Now\")))), React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.modalClose,\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Would you like to schedule your survey to start at 12:00AM on \", this.state.startDate, \" and end at 11:59PM on \", this.state.endDate, \"?\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"gray\",\n      onClick: this.modalClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      variant: \"red\",\n      onClick: this.modalClose,\n      href: \"/scheduled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"OK\")))));\n  }\n\n}\n\nvar group = {\n  margin: \"2%\",\n  flexDirection: \"column\",\n  alignItems: \"center\"\n};\nvar spacing = {\n  margin: \"2%\"\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(actions.logout())\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AdminHome);","map":{"version":3,"sources":["C:/Users/emily/OneDrive/Documents/Git/SCU-ELSE/src/components/AdminHome.js"],"names":["React","Component","Redirect","Row","Col","Button","Tab","Tabs","Modal","AdminSurveyTable","AdminAddRowForm","axios","connect","actions","AdminHome","constructor","props","handleFormSubmit","event","preventDefault","rows","state","push","readOnly","prompt","questionType","post","then","res","console","log","setState","handleInputChange","target","name","value","handleRemove","id","dataID","delete","splice","forceUpdate","handleEdit","handleSave","put","handleCancel","modalClose","showModal","modalOpen","startDate","endDate","componentDidMount","get","data","render","logout","spacing","group","margin","flexDirection","alignItems","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Row, Col, Button, Tab, Tabs, Modal } from \"react-bootstrap\";\r\nimport AdminSurveyTable from \"./AdminSurveyTable.js\";\r\nimport AdminAddRowForm from \"./AdminAddRowForm.js\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../store/actions/auth\";\r\n\r\nclass AdminHome extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tprompt: \"\",\r\n\t\t\tquestionType: \"\",\r\n\t\t\trows: [],\r\n\t\t\tshowModal: false,\r\n\t\t\tstartDate: \"\",\r\n\t\t\tendDate: \"\",\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t//axios.get(\"http://127.0.0.1:8000/api/\")\r\n\t\taxios.get(\"scu-else-system.herokuapp.com/api/\")\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\trows: res.data\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t}\r\n\r\n\thandleFormSubmit  = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet rows = [...this.state.rows];\r\n\t\trows.push({\r\n\t\t\treadOnly: true,\r\n\t\t\tprompt: this.state.prompt,\r\n\t\t\tquestionType: this.state.questionType ? this.state.questionType : \"RR\",\r\n\t\t});\r\n\r\n\t\taxios.post(\"http://127.0.0.1:8000/api/\", {\r\n\t\t\treadOnly: true,\r\n\t\t\tprompt: this.state.prompt,\r\n\t\t\tquestionType: this.state.questionType ? this.state.questionType : \"RR\",\r\n\t\t})\r\n\t\t.then(res => console.log(res))\r\n\t\t//.catch(error => console.err(error));\r\n\r\n\t\tthis.setState({\r\n\t\t\trows,\r\n\t\t\tprompt: \"\",\r\n\t\t\tquestionType: \"\",\r\n\t\t});\r\n\t}\r\n\r\n\thandleInputChange = (event) => {\r\n\t\tconst {name, value}=  event.target;\r\n\r\n\t\tthis.setState({\r\n\t\t\t[name]: value\r\n\t\t})\r\n\t}\r\n\r\n\thandleRemove = (event, id, dataID) => {\r\n\t\tvar rows = [...this.state.rows];\r\n\r\n\t\taxios.delete(`http://127.0.0.1:8000/api/${dataID}/`);\r\n\r\n\t\trows.splice(id, 1);\r\n\t\tthis.setState({rows: rows});\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\r\n\thandleEdit = (event, id) => {\r\n\t\tvar rows = [...this.state.rows];\r\n\t\trows[id].readOnly = false;\r\n\t\tthis.setState({rows: rows,});\r\n\t}\r\n\r\n\thandleSave = (event, id, prompt, questionType, dataID) => {\r\n\t\tvar rows = [...this.state.rows];\r\n\t\trows[id].readOnly = true;\r\n\t\trows[id].prompt = prompt;\r\n\t\trows[id].questionType = questionType;\r\n\r\n\t\taxios.put(`http://127.0.0.1:8000/api/${dataID}/`, {\r\n\t\t\treadOnly: true,\r\n\t\t\tprompt: prompt,\r\n\t\t\tquestionType: questionType,\r\n\t\t})\r\n\t\t.then(res => console.log(res))\r\n\t\t//.catch(error => console.err(error));\r\n\r\n\t\tthis.setState({\r\n\t\t\trows,\r\n\t\t});\r\n\t}\r\n\r\n\thandleCancel = (event, id) => {\r\n\t\tvar rows = [...this.state.rows];\r\n\t\trows[id].readOnly = true;\r\n\t\tthis.setState({rows: rows,});\r\n\t}\r\n\r\n\tmodalClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowModal: false,\r\n\t\t})\r\n\t}\r\n\r\n\tmodalOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowModal: true,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className = \"PageContainer\">\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<a href=\"/login\" onClick={this.props.logout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</section>\r\n\t\t\t\t<h1 className = \"PageHeader\">\r\n\t\t\t\t\tHome\r\n\t\t\t\t</h1>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\tImport Spreadsheet\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<p>Select a file: <input type=\"file\" name=\"masterSpreadsheet\" /></p>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\tSurvey Questions\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<AdminSurveyTable rows={this.state.rows}\r\n\t\t\t\t\t\thandleRemove={this.handleRemove}\r\n\t\t\t\t\t\thandleEdit={this.handleEdit}\r\n\t\t\t\t\t\thandleSave={this.handleSave}\r\n\t\t\t\t\t\thandleCancel={this.handleCancel}\r\n\t\t\t\t\t\thandleInputChange={this.handleInputChange}\r\n\t\t\t\t\t\treadOnly={this.state.readOnly}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\tAdd a Question\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<AdminAddRowForm handleFormSubmit={this.handleFormSubmit}\r\n\t\t\t\t\t\thandleInputChange={this.handleInputChange}\r\n\t\t\t\t\t\tprompt={this.state.prompt}\r\n\t\t\t\t\t\tquestionType={this.state.questionType}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section>\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\tManage Survey\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<Tabs defaultActiveKey=\"auto\">\r\n\t\t\t\t\t\t<Tab eventKey=\"auto\" title=\"Auto\">\r\n\t\t\t\t\t\t\t<Row style={spacing}>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span>Start Date:</span>\r\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"startDate\" defaultValue={this.state.startDate} onChange={this.handleInputChange} />\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span>End Date: </span>\r\n\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"endDate\" defaultValue={this.state.endDate} onChange={this.handleInputChange} />\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row style={group}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"red\" onClick={this.modalOpen} >Confirm</Button>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey=\"manual\" title=\"Manual\">\r\n\t\t\t\t\t\t\t<Row style={group}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"red\" onClick={this.modalOpen} >Start Now</Button>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tshow={this.state.showModal}\r\n\t\t\t\t\t\tonHide={this.modalClose}\r\n\t\t\t\t\t\tcentered\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Modal.Header closeButton></Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<p>Would you like to schedule your survey to start at 12:00AM on {this.state.startDate} and end at 11:59PM on {this.state.endDate}?</p>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant=\"gray\" onClick={this.modalClose}>Close</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"red\" onClick={this.modalClose} href=\"/scheduled\" >OK</Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nvar group = {\r\n\tmargin: \"2%\",\r\n\tflexDirection: \"column\",\r\n\talignItems: \"center\",\r\n}\r\n\r\nvar spacing = {\r\n\tmargin: \"2%\",\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tlogout: () => dispatch(actions.logout())\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(AdminHome);\r\n"]},"metadata":{},"sourceType":"module"}